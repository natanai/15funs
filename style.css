:root{
  --bg: Canvas; --text: CanvasText; --muted: color-mix(in oklab, var(--text), transparent 60%);
  --accent: #3b82f6; --accent-2:#10b981; --danger:#ef4444; --card:#ffffff10;
  --radius: 14px; --pad: 14px; --gap: 18px; --shadow: 0 8px 24px #00000020;
}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;font:16px/1.4 system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial, sans-serif;color:var(--text);background:var(--bg)}
.topbar{padding:24px 20px;position:sticky;top:0;background:linear-gradient( to bottom, color-mix(in oklab, var(--bg), #000 2%), transparent);}
.topbar h1{margin:0;font-size:clamp(20px,3vw,28px)}
.topbar p{margin:.25rem 0 0;color:var(--muted)}
.layout{display:grid;grid-template-columns:minmax(280px,360px) 1fr;gap:var(--gap);padding:20px;align-items:start;transition:grid-template-columns .2s ease}
.layout.with-library{grid-template-columns:minmax(280px,360px) minmax(320px,1fr) minmax(280px,360px)}
@media (max-width: 1100px){.layout,.layout.with-library{grid-template-columns:1fr;}}
.panel{background:var(--card);backdrop-filter:saturate(1.2) blur(6px);border:1px solid #00000010;border-radius:var(--radius);padding:var(--pad);box-shadow:var(--shadow)}
.row{display:flex;gap:10px;align-items:center;margin:8px 0}
.row-grid{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin:8px 0}
label>span{display:block;font-size:.9rem;color:var(--muted);margin-bottom:6px}
input,select,button,details{font:inherit}
input,select{width:100%;padding:10px;border:1px solid #00000022;background:transparent;color:inherit;border-radius:10px}
input[type="checkbox"]{width:auto}
.hint{color:var(--muted);font-size:.9rem}
.buttons{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}
.library-toggle{align-items:center;gap:12px}
.library-toggle .hint{margin-left:0}
button{padding:10px 14px;border-radius:999px;border:1px solid #00000030;background:#ffffff0d;color:inherit;cursor:pointer}
button.primary{background:var(--accent);color:white;border-color:var(--accent)}
button.success{background:var(--accent-2);color:white;border-color:var(--accent-2)}
button.secondary{background:#ffffff12}
button.danger{background:var(--danger);color:white;border-color:var(--danger)}
button:disabled{opacity:.5;cursor:not-allowed}
.panel a{color:inherit}
.panel a:hover{text-decoration:none}
.library-head{display:flex;justify-content:space-between;gap:16px;align-items:center;margin-bottom:12px}
.library-head h2{margin:0}
.card{position:sticky;top:84px}
.card-body{min-height:160px;display:grid;place-content:center;gap:10px;text-align:center;padding:10px;position:relative;overflow:hidden}
.card-body.has-idea{padding:22px 18px}
.card-body::before{content:"";position:absolute;inset:0;background:color-mix(in oklab, var(--bg), #000 12%);border-radius:inherit;box-shadow:inset 0 8px 22px #00000025;opacity:0;transform:translateY(0);pointer-events:none}
.card-body .card-content{display:grid;gap:12px;justify-items:center;opacity:0;transform:translateY(14px) scale(.96)}
.card-body.is-revealing::before{animation:lidLift .5s ease-out forwards}
.card-body.is-revealing .card-content{animation:cardPop .48s cubic-bezier(.22,1.22,.36,1) forwards .08s}
.badge{display:inline-block;padding:4px 8px;background:#00000014;border-radius:999px;border:1px solid #00000018;margin:0 4px}
.meta{display:flex;gap:8px;justify-content:center;flex-wrap:wrap;color:var(--muted)}
.title{font-size:clamp(18px,2.2vw,26px);font-weight:700}
.desc{max-width:62ch;margin-inline:auto}
.card-body.has-idea .title{margin-top:6px}
.card-body.has-idea .meta{margin-top:4px}
.timer{margin-top:6px;padding:12px 16px;border-radius:12px;background:#ffffff0f;border:1px solid #00000018;display:grid;gap:10px;justify-items:center}
.timer-head{display:flex;gap:12px;align-items:baseline}
.timer-head .label{font-size:.85rem;color:var(--muted)}
.timer-display{font-size:clamp(26px,3vw,34px);font-variant-numeric:tabular-nums;font-weight:600}
.timer-controls{display:flex;gap:10px}
.timer-btn{padding:8px 14px;font-size:.9rem}
.timer.is-finished{border-color:var(--accent-2);box-shadow:0 0 0 2px color-mix(in oklab, var(--accent-2), transparent 70%)}
.timer.is-finished .timer-display{color:var(--accent-2)}
.charades,.question-pool{margin-top:10px;padding:14px;border-radius:12px;border:1px dashed #00000025;background:#ffffff08;display:grid;gap:10px;text-align:left}
.charades-head,.question-pool-head{display:flex;justify-content:space-between;align-items:center;gap:12px}
.charades .label,.question-pool .label{font-size:.85rem;color:var(--muted)}
.charades-status,.question-status{margin:0;font-size:.85rem;color:var(--muted)}
.charades-prompt,.question-prompt{margin:0;font-size:1.05rem;font-weight:500;line-height:1.4}
@keyframes cardPop{0%{opacity:0;transform:translateY(18px) scale(.94)}60%{transform:translateY(-8px) scale(1.02)}100%{opacity:1;transform:translateY(0) scale(1)}}
@keyframes lidLift{0%{opacity:1;transform:translateY(0)}55%{opacity:1}100%{opacity:0;transform:translateY(-105%)}}
.ideas{list-style:none;padding:0;margin:0;display:grid;gap:8px}
.ideas li{padding:10px;border:1px dashed #00000025;border-radius:12px;display:flex;justify-content:space-between;align-items:center;gap:10px}
.ideas .right{display:flex;gap:6px;align-items:center}
.tag{font-size:.8rem;color:var(--muted)}
.badge.recent{background:color-mix(in oklab, var(--danger), transparent 75%);border-color:transparent}
.foot{padding:30px 20px;text-align:center;color:var(--muted)}
[hidden]{display:none !important}
